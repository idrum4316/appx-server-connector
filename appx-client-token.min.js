/*********************************************************************
 **
 **   server/appx-client-token.js - Client Token processing
 **
 **   This module contains code to process client tokens.
 **
 *********************************************************************/
function appxtokenhandler(t){tokencachepending--,create_tokens(t)}function sendappxtoken(t){tokencachepending++
var a={cmd:"appxtoken",args:t,handler:"appxtokenhandler",data:null}
appx_session.ws.send(JSON.stringify(a))}function create_tokens(t){var a=appx_session.token_groups[t.data.grp.slice(2,4)]
appxtokengetitem(a)||appxtokensetitem(a,JSON.stringify(t)),appx_session.token_cache[a].data=JSON.parse(appxtokengetitem(a)),applyToken(a)}function applyToken(t){var a=JSON.parse(appxtokengetitem(t)).data.items
$("."+t).each(function(){if("SELECT"==$(this).prop("tagName")&&!$(this).hasClass("appx-local-list")){var t=$(this)
$(this).html(""),$(this).hasClass("appx-nullok")&&$(this).append("<option></option>"),$.each(a,function(a,e){var n=ab2str(e.data).trim(),p=$("<option></option>").val(n).html(n)
t.append(p)})}$(this).val($(this).attr("data"))})}function setappxcombo(t){$("."+t).autocomplete({source:["c","java","php","coldfusion","javascript","asp","ruby"]})}function appxtokengetitem(t){var a=appxtokencache[t]
return a}function appxtokensetitem(t,a){appxtokencache[t]=a}var tokencachepending=0,appxtokencache={}
